<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>6.4 Comunicazione DHCP</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="011c098f-5b8b-4fe5-a9fc-6b4de582f2e8" class="page sans"><header><h1 class="page-title">6.4 Comunicazione DHCP</h1><p class="page-description"></p></header><div class="page-body"><p id="6cd0c68c-52e2-4f51-98c1-f51e2debad30" class="">La comunicazione tra il nuovo host e il server, al fine di ottenere i dati per la configurazione di rete, avviene in 4 fasi.</p><ol type="1" id="49601ce8-f0bd-4260-bfca-1d6fef1a0692" class="numbered-list" start="1"><li><strong>Ricerca del DHCP Server:</strong> l&#x27;host deve per prima cosa trovare un DHCP Server al quale inviare la richiesta, quindi invia in broadcast sulla rete locale (indirizzo IP di destinazione uguale a 255.255.255.255) un messaggio <code>DHCPDISCOVER</code> con porta di destinazione UDP 67.</li></ol><ol type="1" id="6866cf27-1543-4234-9f83-b294b4d428f5" class="numbered-list" start="2"><li><strong>Offerta al DHCP Client:</strong> i DHCP Server presenti nella rete rispondono con un messaggio <code>DHCPOFFER</code>, inviato anch&#x27;esso in broadcast, con l&#x27;indirizzo IP offerto e il tempo di lease.</li></ol><ol type="1" id="6f700ecc-541b-41f0-86c3-dbaf76fad00f" class="numbered-list" start="3"><li><strong>Richiesta al DHCP Server:</strong> il client sceglie una delle offerte ricevute e invia al relativo server un messaggio <code>DHCPREQUEST</code> con i parametri di configurazione presenti nel messaggio <code>DHCPOFFER</code>; gli altri DHCP Server, che avevano inviato un&#x27;offerta di lease, rendono nuovamente disponibile l&#x27;indirizzo IP nel proprio address pool.</li></ol><ol type="1" id="eddc9805-b034-4c83-833d-f46c03509983" class="numbered-list" start="4"><li><strong>Conferma al DHCP Client:</strong> il server risponde con un messaggio <code>DHCPACK</code>, confermando i parametri di configurazione.</li></ol><p id="fadb9815-0507-4d42-a0a2-613c74ebec4e" class="">
</p><p id="4eb54211-73b1-482d-9d9f-0e95e8a631f8" class="">Completata questa procedura, l&#x27;host può utilizzare l&#x27;IP assegnato per tutta la durata del tempo di lease. La prima figura mostra lo scambio dei messaggi tra client e server relativi all&#x27;offerta del tempo di lease.</p><p id="927e7411-518c-4094-a4fe-f33ee2543c54" class="">La seconda figura mostra lo scambio dei messaggi relativi alla selezione del lease e all&#x27;accettazione dell&#x27;offerta del server.</p><figure id="8d3242b1-869c-4f3e-814f-c27403ed0643" class="image"><a href="6%204%20Comunicazione%20DHCP%20011c098f5b8b4fe5a9fc6b4de582f2e8/Untitled.png"><img style="width:568px" src="6%204%20Comunicazione%20DHCP%20011c098f5b8b4fe5a9fc6b4de582f2e8/Untitled.png"/></a></figure><figure id="0f6ffe39-44ab-4596-8133-c0b3dc809331" class="image"><a href="6%204%20Comunicazione%20DHCP%20011c098f5b8b4fe5a9fc6b4de582f2e8/Untitled%201.png"><img style="width:556px" src="6%204%20Comunicazione%20DHCP%20011c098f5b8b4fe5a9fc6b4de582f2e8/Untitled%201.png"/></a></figure><p id="76f35af0-0726-4655-8a50-0406850034db" class="">
</p><h3 id="06e9b775-bc00-4763-951f-0db24657f84f" class=""><mark class="highlight-blue">Gli stati del DHCP Client</mark></h3><p id="5b6a180c-71ed-44d0-88ec-58ac2ed5eb50" class="">All&#x27;inizio il DHCP Client è nello stato INITIALIZE. Dopo l&#x27;invio in broadcast del messaggio <code>DHCPDISCOVER</code>, assume lo stato SELECT.</p><figure id="128db45f-804d-4518-b09a-9337ee7107a3" class="image"><a href="6%204%20Comunicazione%20DHCP%20011c098f5b8b4fe5a9fc6b4de582f2e8/Untitled%202.png"><img style="width:594px" src="6%204%20Comunicazione%20DHCP%20011c098f5b8b4fe5a9fc6b4de582f2e8/Untitled%202.png"/></a></figure><p id="6e6538a5-1576-4b1c-a3b8-5cab2f24012d" class="">Quando è nello stato SELECT, il client raccoglie le risposte <code>DHCPOFFER</code> dai DHCP Server. Il client sceglie una delle offerte ricevute inviando al server un messaggio <code>DHCPREQUEST</code>.</p><p id="d0c87a42-f40f-40a8-9267-3eee1b25a4f4" class="">A questo punto il client passa allo stato REQUEST.</p><p id="e8b7553f-a077-4c0e-9346-53f86c72d4d6" class="">La ricezione del messaggio <code>DHCPACK</code> inviato dal server selezionato, fa in modo che il client passi allo stato BOUND, in cui usa l&#x27;indirizzo assegnatogli, memorizza i parametri di configurazione che il server gli ha inviato e imposta due timer:</p><ol type="1" id="90034cc0-7360-429e-ada0-785f5a56e38a" class="numbered-list" start="1"><li><strong>renewal timer (T1):</strong> indica al client quando è il momento di effettuare una richiesta di rinnovo dell&#x27;indirizzo;</li></ol><ol type="1" id="15a623ea-f1aa-4bf1-9e44-c988deac2300" class="numbered-list" start="2"><li><strong>rebinding timer (T2):</strong> dice al client che è scaduto il tempo per rinnovare l&#x27;indirizzo IP.</li></ol><p id="ce78c0ab-df61-4b27-b643-e86f42163ab3" class="">Ci sono casi in cui il lease viene disdetto prima dello scadere dei timer, per esempio su richiesta dell&#x27;utente dell&#x27;host, con un esplicito messaggio <code>DHCPRELEASE</code>. </p><p id="953710b9-3e47-4922-b632-b32b302ff41f" class="">Dallo stato BOUND allora il client ritorna nello stato INITIALIZE.</p><p id="342981c0-68f1-4b2c-8f5d-94b8bcc83395" class="">
</p><h3 id="db079f03-aaf8-4a39-8e10-7fdbf49a3d23" class=""><mark class="highlight-blue">Il rinnovo del lease dell&#x27;indirizzo IP</mark></h3><p id="392cab31-93db-4538-86ae-a5e746b72ba4" class="">Quando il DHCP Client entra nello stato BOUND, imposta i timer che controllano il rinnovo, la conferma e la scadenza del lease. Il valore a cui impostare questi timer può essere specificato dal DHCP Server oppure il client può usare quelli predefiniti.</p><p id="44808e43-b1a0-469f-80f9-3da47506490c" class="">Il valore predefinito del renewal timer è la metà del tempo totale del lease; quando scade, il client passa nello stato RENEW e invia un messaggio <code>DHCPREQUEST</code> al server da cui ha ottenuto il lease.</p><p id="c4db5a35-dcfd-48ab-93eb-a3c6eec123bc" class="">Il server risponde in due modi:</p><ol type="1" id="23c2881e-9130-4504-9141-dc23dee7cab1" class="numbered-list" start="1"><li>comunicando al client di interrompere l&#x27;uso dell&#x27;indirizzo, inviando un messaggio <code>DHCPNACK</code>; in questo caso il client ritorna nello stato INITIALIZE;</li></ol><ol type="1" id="cff04f04-7fca-4f6d-82a2-e17c04b6a951" class="numbered-list" start="2"><li>concedendo ancora l&#x27;utilizzo del lease, inviando al client un messaggio <code>DHCPACK</code> che lo fa tornare nello stato BOUND reimpostando i timer.</li></ol><p id="cb95c553-26a4-4bbc-9a5a-5e6f96eb812e" class="">
</p><p id="578f24dc-2009-4b05-805d-bc36630e4954" class="">Quando il client passa nello stato RENEW utilizza il rebinding timer per gestire il caso in cui il server, al quale ha inviato la richiesta di rinnovo, non possa rispondere, perché è diventato inattivo o non è più raggiungibile. Questo timer è impostato quando il client passa nello stato BOUND e il valore predefinito è l&#x27;87,5% del periodo di lease. Quando scade questo timer il client passa nello stato REBIND e invia in broadcast sulla rete locale un messaggio <code>DHCPREQUEST</code>.</p><p id="befd7d4f-dde1-4bea-a3a8-db6af6d30a1d" class="">A questo punto si possono avere 3 casi:</p><ol type="1" id="c4ac5de6-389c-4587-96d9-01145abc1bd2" class="numbered-list" start="1"><li>un server della rete risponde positivamente con un messaggio <code>DHCPACK</code> e il lease dell&#x27;indirizzo è prorogato, il client ritorna nello stato BOUND e imposta nuovamente i timer;</li></ol><ol type="1" id="1152c2be-bd6c-41e3-ae4f-642a7f42752e" class="numbered-list" start="2"><li>un server della rete risponde negativamente con un messaggio <code>DHCPNACK</code>, il client deve smettere di usare l&#x27;indirizzo IP e passare nello stato INITIALIZE per richiederne uno nuovo;</li></ol><ol type="1" id="445051e5-52bb-4263-b8f8-8fb8dc4a2942" class="numbered-list" start="3"><li>nessun server risponde alla richiesta del client (caso raro), scade il periodo di lease e torna allo stato INITIALIZE.</li></ol></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>